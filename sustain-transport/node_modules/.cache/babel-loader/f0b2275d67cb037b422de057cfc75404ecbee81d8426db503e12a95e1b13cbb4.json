{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\MSI\\\\Documents\\\\JavaTpoint\\\\JTp\\\\stt\\\\sutain_transport_6\\\\sustain-transport\\\\src\\\\components\\\\Login.js\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport axios from \"axios\";\nimport { useFormik } from \"formik\";\nimport TextField from \"@mui/material/TextField\";\nimport Button from \"@mui/material/Button\";\nimport { loginValidationSchema } from \"./Validation\";\nimport { useAuth } from \"../AuthContext\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Login() {\n  _s();\n  const navigate = useNavigate();\n  const {\n    setIsLoggedIn\n  } = useAuth();\n  const formik = useFormik({\n    initialValues: {\n      username: \"\",\n      password: \"\"\n    },\n    validationSchema: loginValidationSchema,\n    validateOnChange: true,\n    onSubmit: async values => {\n      try {\n        const response = await axios.post(\"/login\", values);\n        console.log(response.data);\n        if (response.data.message === \"Invalid credentials\") {\n          formik.setErrors({\n            username: \"Invalid credentials. Please try again.\"\n          });\n        } else {\n          setIsLoggedIn(true);\n          alert(\"Login successful\");\n          navigate(\"/\");\n        }\n      } catch (error) {\n        console.error(\"Login Error:\", error);\n        alert(\"An unexpected error occurred. Please try again later.\");\n      }\n    }\n  });\n  const placementStyles = {\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: placementStyles,\n    className: \"login\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: formik.handleSubmit,\n      className: \"loginForm\",\n      children: [/*#__PURE__*/_jsxDEV(TextField, {\n        fullWidth: true,\n        label: \"Username\",\n        ...formik.getFieldProps(\"username\"),\n        sx: {\n          minWidth: \"420px\"\n        },\n        error: formik.touched.username && Boolean(formik.errors.username),\n        helperText: formik.touched.username && formik.errors.username\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        fullWidth: true,\n        label: \"Password\",\n        ...formik.getFieldProps(\"password\"),\n        sx: {\n          minWidth: \"420px\",\n          margin: \"12px 0px\"\n        },\n        error: formik.touched.password && Boolean(formik.errors.password),\n        helperText: formik.touched.password && formik.errors.password\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"submit\",\n        variant: \"contained\",\n        style: {\n          width: \"200px\",\n          margin: \"10px auto\"\n        },\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          marginLeft: \"120px\"\n        },\n        children: [\"Create Account \", /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"/register\",\n          children: \"Register\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 26\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n}\n_s(Login, \"5vEkEMXrhRvzMRh0JyrBED8+PmU=\", false, function () {\n  return [useNavigate, useAuth, useFormik];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","axios","useFormik","TextField","Button","loginValidationSchema","useAuth","useNavigate","jsxDEV","_jsxDEV","Login","_s","navigate","setIsLoggedIn","formik","initialValues","username","password","validationSchema","validateOnChange","onSubmit","values","response","post","console","log","data","message","setErrors","alert","error","placementStyles","display","flexDirection","justifyContent","alignItems","style","className","children","fileName","_jsxFileName","lineNumber","columnNumber","handleSubmit","fullWidth","label","getFieldProps","sx","minWidth","touched","Boolean","errors","helperText","margin","type","variant","width","marginLeft","href","_c","$RefreshReg$"],"sources":["C:/Users/MSI/Documents/JavaTpoint/JTp/stt/sutain_transport_6/sustain-transport/src/components/Login.js"],"sourcesContent":["import React from \"react\";\r\nimport axios from \"axios\";\r\nimport { useFormik } from \"formik\";\r\nimport TextField from \"@mui/material/TextField\";\r\nimport Button from \"@mui/material/Button\";\r\nimport { loginValidationSchema } from \"./Validation\";\r\nimport { useAuth } from \"../AuthContext\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nfunction Login() {\r\n  const navigate = useNavigate();\r\n  const { setIsLoggedIn } = useAuth();\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      username: \"\",\r\n      password: \"\",\r\n    },\r\n    validationSchema: loginValidationSchema,\r\n    validateOnChange: true,\r\n    onSubmit: async (values) => {\r\n      try {\r\n        const response = await axios.post(\"/login\", values);\r\n        console.log(response.data);\r\n        if (response.data.message === \"Invalid credentials\") {\r\n          formik.setErrors({\r\n            username: \"Invalid credentials. Please try again.\",\r\n          });\r\n        } else {\r\n          setIsLoggedIn(true);\r\n          alert(\"Login successful\");\r\n          navigate(\"/\");\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Login Error:\", error);\r\n        alert(\"An unexpected error occurred. Please try again later.\");\r\n      }\r\n    },\r\n  });\r\n  const placementStyles = {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n  };\r\n\r\n  return (\r\n    <div style={placementStyles} className=\"login\">\r\n      <h1>Login</h1>\r\n      <form onSubmit={formik.handleSubmit} className=\"loginForm\">\r\n        <TextField\r\n          fullWidth\r\n          label=\"Username\"\r\n          {...formik.getFieldProps(\"username\")}\r\n          sx={{ minWidth: \"420px\" }}\r\n          error={formik.touched.username && Boolean(formik.errors.username)}\r\n          helperText={formik.touched.username && formik.errors.username}\r\n        />\r\n        <TextField\r\n          fullWidth\r\n          label=\"Password\"\r\n          {...formik.getFieldProps(\"password\")}\r\n          sx={{ minWidth: \"420px\", margin: \"12px 0px\" }}\r\n          error={formik.touched.password && Boolean(formik.errors.password)}\r\n          helperText={formik.touched.password && formik.errors.password}\r\n        />\r\n        <Button\r\n          type=\"submit\"\r\n          variant=\"contained\"\r\n          style={{ width: \"200px\", margin: \"10px auto\" }}\r\n        >\r\n          Login\r\n        </Button>\r\n        <p style={{ marginLeft: \"120px\" }}>\r\n          Create Account <a href=\"/register\">Register</a>\r\n        </p>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}